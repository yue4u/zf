#!/usr/bin/env zx
import path from "path";

cd(path.join(__dirname, ".."));

const dry = process.argv.includes("-n") ? "-n" : "";
const ignore = [
  `\.git`,
  `devlog/node_modules`,
  `devlog/dist`,
  `tmp`,
  `zf/\.import`,
  `zf-lib/target`,
].join("|");

$`gsutil -m rsync -d -r ${dry} -x ${ignore} . gs://zf.yue.rocks`;
